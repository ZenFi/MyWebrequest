<!DOCTYPE HTML>
<html lang="en-US">
<head>
	<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
	<title>Options</title>
	<link rel="stylesheet" href="../common/widgets.css">
	<link rel="stylesheet" type="text/css" href="style.css" media="all">
</head>
<body>
	<aside>
		<div class="app-name">
			My Webrequest
		</div>
		<ul class="nav" id="nav">
			<li ><a href="#block">Block</a></li>
			<li><a href="#hsts">HTTPS</a></li>
			<li><a href="#refer">Hotlinking</a></li>
			<li><a href="#log">Log</a></li>
			<li><a href="#qrcode">QRCode</a></li>
			<li><a href="#help">Help</a></li>
		</ul>
	</aside>
	<section id="request-settings" data-id="block">
		<div class="setting-title">
			<span id="fun-name">Block</span> <span id="fun-desc" i18n-content="opt_block_desc" class="fun-desc"></span>
		</div>
		<div class="setting-content">
			<div class="rule-switch">
				<input type="checkbox" class="switch-input" id="switch-block">
				<label for="switch-block">
					<span i18n-content="opt_ena_lbl"></span>
					<span class="enable-tip" hidden>(<span i18n-content="opt_ena_lbltip"></span>)</span>
				</label>
			</div>
			<div class="item-title" i18n-content="opt_addrule_lbl"></div>
			<div class="rule-field">
				<div class="input-field field-block protocol">
					<label class="label" for="protocol" i18n-content="opt_protocol_lbl"></label>
					<select id="protocol" name="protocol" class="input" >
						<option value="*">*</option>
						<option value="http">http</option>
						<option value="https">https</option>
					</select>
				</div>
				<div class="input-field field-block separator">
					<label class="label">&nbsp;</label>
					<div class="input">://</div>
				</div>
				<div class="input-field field-block host">
					<label class="label" for="host" i18n-content="opt_host_lbl"></label>
					<input id="host" name="host" class="input" i18n-value="placeholder:opt_ph_host">
				</div>
				<div class="input-field field-block separator">
					<label class="label">&nbsp;</label>
					<div class="input">/</div>
				</div>
				<div class="input-field field-block path">
					<label class="label" for="path" i18n-content="opt_path_lbl"></label>
					<input id="path" name="path" class="input" i18n-value="placeholder:opt_ph_path">
				</div>
				<div class="input-field field-block">
					<label class="label">&nbsp;</label>
					<button class="input add-rule" i18n-content="opt_addrule_btn"></button>
				</div>
			</div>
			<div class="item-title">
				<span i18n-content="opt_mngrule_lbl"></span>
				<div class="rule-cunt">
					(<span class="rule-cunt-num">0</span> <span i18n-content="opt_rule_unit"></span>)
				</div>
			</div>
			<table class="rules">
				<thead>
					<tr>
						<th width="7%"><input type="checkbox" name="" id=""></th>
						<th width="78%" i18n-content="opt_th_rule"></th>
						<th width="15%"><button class="multi-delete" i18n-content="opt_delete_text"></button></th>
					</tr>
				</thead>
				<tbody>
				</tbody>
			</table>
		</div>
	</section>
	<section id="qrcode">
		<div class="setting-title">
			QRCode <span i18n-content="opt_qrcode_desc" class="fun-desc"></span>
		</div>
		<div class="setting-content">
			<div class="qr-tips" i18n-content="opt_qr_tips">
			</div>
			<div class="qr-left">
				<ul class="nav-tabs">
					<li data-target="text" class="active" i18n-content="opt_qrtab_text"></li>
					<li data-target="vcard" i18n-content="opt_qrtab_vcard"></li>
					<li data-target="msg" i18n-content="opt_qrtab_message"></li>
				</ul>
				<div class="tab-content">
					<div class="tab-pane fade active in" id="tab-text" data-type="text">
						<div class="letter-cunt-wrapper">
							<textarea class="s-text input" id="s-text" i18n-value="placeholder:opt_ph_qrtext"></textarea>
							<div class="letter-cunt">0/300</div>
						</div>
						<div class="qr-fun">
							<div class="qr-error-tip" hidden></div>
							<button class="make-qrcode" i18n-content="qr_make_btn"></button>
						</div>
					</div>
					<div class="tab-pane fade" id="tab-vcard" data-type="vcard">
						<div class="input-field field-inline">
							<label class="label" for="s-name" i18n-content="opt_qrct_vname"></label>
							<input id="s-name" name="N" class="input" i18n-value="placeholder:opt_ph_vname">
						</div>
						<div class="input-field field-inline">
							<label class="label" for="s-phone" i18n-content="opt_qrct_vphone"></label>
							<input id="s-phone" name="TEL" class="input" i18n-value="placeholder:opt_ph_vtel" >
						</div>
						<div class="input-field field-inline">
							<label class="label" for="s-email" i18n-content="opt_qrct_vmail"></label>
							<input id="s-email" name="EMAIL" i18n-value="placeholder:opt_ph_vmail" class="input">
						</div>
						<div class="input-field field-inline">
							<label class="label" for="s-url" i18n-content="opt_qrct_vurl"></label>
							<input id="s-url" name="URL" i18n-value="placeholder:opt_ph_vurl" class="input">
						</div>
						<div class="input-field field-inline">
							<label class="label" for="s-addr" i18n-content="opt_qrct_vaddr"></label>
							<input id="s-addr" name="ADR" class="input" i18n-value="placeholder:opt_ph_vaddr">
						</div>
						<div class="input-field field-inline">
							<label class="label" for="s-note" i18n-content="opt_qrct_vmemo"></label>
							<input id="s-note" name="NOTE" i18n-value="placeholder:opt_ph_vnote" class="input">
						</div>
						<div class="qr-fun">
							<div class="qr-error-tip" hidden></div>
							<button class="make-qrcode" i18n-content="qr_make_btn"></button>
						</div>
					</div>
					<div class="tab-pane fade" id="tab-msg" data-type="msg">
						<div class="input-field field-inline">
							<label class="label" for="s-tel" i18n-content="opt_qrct_mto"></label>
							<input id="s-tel" name="name" class="input" i18n-value="placeholder:opt_ph_vtel">
						</div>
						<div class="input-field field-inline textarea letter-cunt-wrapper">
							<label class="label" for="s-msg" i18n-content="opt_qrct_mmessage"></label>
							<textarea id="s-msg" class="input s-msg" i18n-value="placeholder:opt_ph_message"></textarea>
							<div class="letter-cunt">0/300</div>
						</div>
						<div class="qr-fun">
							<div class="qr-error-tip" hidden></div>
							<button class="make-qrcode" i18n-content="qr_make_btn"></button>
						</div>
					</div>
				</div>
			</div>
			<div class="qr-right">
				<div id="qrcode-area" class="qrcode-area">
					<img src="" id="qrimg">
				</div>
			</div>
		</div>
	</section>
	<section id="help">
		<div class="setting-title">
			Help <span class="fun-desc">There must be something U need to know</span>
		</div>
		<div class="setting-content">
			<div class="item-title" >关于本应用</div>
			<div class="item-content">
				<p>本应用主要是使用chrome的webrequest api来实现的,可以用来简单的管理浏览器的请求,功能点包括"屏蔽请求"(Block),"强制使用HTTPS连接"(HTTPS),"浏览防盗链的图片"(Refer),"监控网络请求"(Log).你只要输入一条URL匹配模式(即规则)并启用相关功能就可以使用了.在这些功能之外,我还添加了二维码功能,希望你喜欢.</p>
			</div>
			<div class="item-title" >规则的格式</div>
			<div class="item-content">
				<p>规则的格式主要参考<a href="http://developer.chrome.com/extensions/match_patterns.html" target="_blank">Chrome Url 匹配模式</a>, 根据本扩展的功能我做了些许变动,主要在于在本扩展中规则只能匹配https和http协议请求,像file,ftp等其他请求就没法匹配了.一条规则分为三部分:协议,域名,路径(包含请求字符串).在规则中,星号是一个特殊符号,代表所有可能的东西</p>
				<p>协议: 可以是http或者https,*则表示二者均可</p>
				<p>域名: 由字母数字连字符还有点号组成,如:www.google.com.域名中也可以用*,但是它只能是域名中的第一个或者唯一一个字符.对了,域名也可以填写IP地址.</p>
				<p>路径: 有字母数字还有一些特殊符号(-_+=&%@!.,?|~/)组成,你也可以用*.路径如果被留空的话,则会被当做*,即任意路径.</p>
			</div>
			<div class="item-title">Block</div>
			<div class="item-cotent">你可以添加规则来屏蔽某些网站,屏蔽某一类请求,屏蔽某张特定的图片、脚本.当然你也可以用来屏蔽广告,大多广告都是通过脚本文件来加载的,你只需要屏蔽脚本文件的地址或者其所在域就好了,但是不推荐你这么做,本扩展不是主攻屏蔽广告,你可以使用adblock,不过我更推荐用修改hosts文件的方式来屏蔽广告.</div>
			<div class="item-title">HTTPS</div>
			<div class="item-cotent">如果某个网站支持HTTPS,你可以将它的域添加到规则中,就可以强制使用HTTPS请求,比如将*.wordpress.com加入到规则中,你就可以在中国浏览wordpress.com上的博客了,包括图片.当然你也可以只为特定的请求添加规则.</div>
			<div class="item-title">Hotlinking</div>
			<div class="item-cotent">有时候浏览论坛时会发现贴图上写着”图片来自xxx“(比如来自QQ空间),而看不到原图.这是站长的防盗链措施,一来保护版权,二来减轻服务器负担,这无可厚非的,责任主要在于发帖者,但这却给浏览者带来不便.当遇到有盗链保护而无法正常浏览的图片时,右击图片选择复制图片地址,这样你就得到了图片的地址了,将图片的域名添加到规则即可,只需要域名哦.</div>
			<div class="item-title">Log</div>
			<div class="item-cotent">查看网络请求的请求头(header)以及内容(body).查看方法:1.打开扩展管理器(在地址栏输入chrome://extensions/) 2.启用开发者模式(勾选右上角的付款框) 3.打开本扩展后台页面(找到本扩展,点击background/index.html) 4.切换到Console选项卡(在新打开的窗口中,切换到Console选项卡) Console中打印的有编号的记录就是浏览器发送的请求啦.
				<img src="../img/log.png" width="730" alt=""></div>
			<div class="item-title">QR Code</div>
			<div class="item-cotent">浏览网站时,点击地址栏右侧的浅蓝色地球图标就可以获得当前网页地址的二维码.双击二维码图片还可以编辑内容,然后再生成新的二维码.用你的手机上的二维码扫描软件就可以轻松的从电脑同步数据啦,免去了在手机上输入不方便的烦恼.注意在生成二维码时,不要输入太多文字(汉字建议在150字以内,英文则在300字以内),否则生成的二维码纹路复杂,低配置的手机无法识别.二维码是使用Google的API生成的,所以使用二维码功能需要联网,并且得保证能正常访问Google的API服务.</div>
		</div>
	</section>
	<div id="overlay-wrapper" class="animated" hidden>
		<div id="overlay-box">
			<div id="overlay" class="dialog">
				<div class="dialog-close cancel"></div>
				<div class="dialog-title" id="dialog-title">
				</div>
				<div class="dialog-content" id="dialog-content">
				</div>
				<div class="dialog-btns">
					<button id="dialog-ok-btn">OK</button>
					<button class="cancel" id="dialog-cancel-btn">Cancel</button>
				</div>
			</div>
		</div>
	</div>
	<div id="tooltip" class="tooltip">
		<div class="arrow_box" id="tooltip-msg">
		</div>
	</div>
	<script src="../common/i18n.js"></script>
	<script src="../common/qrcode.js"></script>
	<script src="../common/jquery.min.js"></script>
	<script type="text/javascript" src="opt.js"></script>
</body>
</html>