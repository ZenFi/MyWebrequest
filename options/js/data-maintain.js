// Generated by CoffeeScript 1.10.0
define(function(require) {
  var getExtData, readFile, restoreExtData, save2File, version;
  version = '0.1';
  getExtData = function() {};
  restoreExtData = function() {};

  /**
   * save text into file
   * @param  {String|Object} text     content of the file
   * @param  {String} filename filename
   */
  save2File = function(text, filename) {
    var dom;
    if (typeof text === 'object') {
      text = JSON.stringify(text);
    } else {
      text = "" + text;
    }
    text = encodeURIComponent(text);
    dom = document.createElement('a');
    dom.setAttribute('href', 'data:text/plain;charset=utf-8,' + text);
    dom.setAttribute('download', filename);
    return dom.click();
  };
  readFile = function(f) {
    var reader, size;
    size = f.size;
    if (size > 1024 * 1024 * 5) {
      alert('Are you kidding me? the config file is bigger than 5m!');
      return;
    }
    reader = new FileReader();
    reader.onload = function(e) {
      var content;
      content = e.target.result;
      console.log("file: " + content);
      return console.log(JSON.parse(content));
    };
    return reader.readAsText(f);
  };
  return {
    readFile: readFile,
    getExtData: getExtData,
    restoreExtData: restoreExtData
  };
});


//# sourceMappingURL=data-maintain.js.map
