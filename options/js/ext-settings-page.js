// Generated by CoffeeScript 1.10.0
define(function(require) {
  var collection, dataMaintain, iconStyles, init;
  collection = require('common/js/collection');
  dataMaintain = require('js/data-maintain');
  iconStyles = ['colored', 'grey'];
  init = function() {
    var iconStyle;
    iconStyle = collection.getConfig('iconStyle');
    if (-1 === iconStyles.indexOf(iconStyle)) {
      iconStyle = 'colored';
    }
    $("#ext-iconstyle-switch input[value='" + iconStyle + "']").prop('checked', true);
  };
  $('#ext-iconstyle-switch input:radio').on('change', function(e) {
    collection.setConfig('iconStyle', this.value);
  });
  $('#backup-ext-data').on('click', function() {
    var dom, text;
    text = encodeURIComponent(JSON.stringify(dataMaintain.getExtData()));
    dom = document.createElement('a');
    dom.setAttribute('href', 'data:text/plain;charset=utf-8,' + text);
    dom.setAttribute('download', 'demo.json');
    return dom.click();
  });
  $('#restore-ext-data').on('change', function(e) {
    var files;
    files = e.target.files;
    console.log(files);
    if (files.length) {
      return dataMaintain.readFile(files[0]);
    }
  });
  return {
    init: init
  };
});


//# sourceMappingURL=ext-settings-page.js.map
